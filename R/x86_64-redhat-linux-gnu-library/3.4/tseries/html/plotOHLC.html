<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Plot Open-High-Low-Close Bar Chart</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for plotOHLC {tseries}"><tr><td>plotOHLC {tseries}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Plot Open-High-Low-Close Bar Chart</h2>

<h3>Description</h3>

<p>Plots open-high-low-close bar chart of a (financial) time series.
</p>


<h3>Usage</h3>

<pre>
plotOHLC(x, xlim = NULL, ylim = NULL, xlab = "Time", ylab, col = par("col"),
         bg = par("bg"), axes = TRUE, frame.plot = axes, ann = par("ann"),
         main = NULL, date = c("calendar", "julian"), format = "%Y-%m-%d",
         origin = "1899-12-30", ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p>a multivariate time series object of class <code>"mts"</code>.</p>
</td></tr>
<tr valign="top"><td><code>xlim, ylim, xlab, ylab, col, bg, axes, frame.plot, ann,
main</code></td>
<td>
<p>graphical arguments, see <code><a href="../../graphics/html/plot.html">plot</a></code>,
<code><a href="../../graphics/html/plot.default.html">plot.default</a></code> and <code><a href="../../graphics/html/par.html">par</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>date</code></td>
<td>
<p>a string indicating the type of x axis
annotation. Default is calendar dates.</p>
</td></tr>
<tr valign="top"><td><code>format</code></td>
<td>
<p>a string indicating the format of the x axis annotation if
<code>date == "calendar"</code>. For details see
<code><a href="../../base/html/strptime.html">format.POSIXct</a></code>.</p>
</td></tr> 
<tr valign="top"><td><code>origin</code></td>
<td>
<p>an R object specifying the origin of the Julian dates
if <code>date == "calendar"</code>. Defaults to 1899-12-30 (Popular
spreadsheet programs internally also use Julian dates with this origin).</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>further graphical arguments passed to
<code><a href="../../graphics/html/plot.window.html">plot.window</a></code>, <code><a href="../../graphics/html/title.html">title</a></code>, <code><a href="../../graphics/html/axis.html">axis</a></code>,
and <code><a href="../../graphics/html/box.html">box</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Within an open-high-low-close bar chart, each bar represents
price information for the time interval between the open and the close
price. The left tick for each bar indicates the open price for the
time interval. The right tick indicates the closing price for the time
interval. The vertical length of the bar represents the price range
for the time interval.
</p>
<p>The time scale of <code>x</code> must be in Julian dates (days since the
<code>origin</code>).
</p>


<h3>Author(s)</h3>

<p>A. Trapletti</p>


<h3>See Also</h3>

<p><code><a href="../../graphics/html/plot.default.html">plot.default</a></code>,
<code><a href="../../base/html/strptime.html">format.POSIXct</a></code>,
<code><a href="get.hist.quote.html">get.hist.quote</a></code>
</p>


<h3>Examples</h3>

<pre>
con &lt;- url("https://finance.yahoo.com")
if(!inherits(try(open(con), silent = TRUE), "try-error")) {
  close(con)
  ## Plot OHLC bar chart for the last 'nDays' days of the instrument
  ## 'instrument'

  nDays &lt;- 50
  instrument &lt;- "^gspc"

  start &lt;- strftime(as.POSIXlt(Sys.time() - nDays * 24 * 3600),
                    format="%Y-%m-%d") 
  end &lt;- strftime(as.POSIXlt(Sys.time()), format = "%Y-%m-%d") 
  x &lt;- get.hist.quote(instrument = instrument, start = start, end = end,
                      retclass = "ts")

  plotOHLC(x, ylab = "price", main = instrument)
}
</pre>

<hr /><div style="text-align: center;">[Package <em>tseries</em> version 0.10-42 <a href="00Index.html">Index</a>]</div>
</body></html>
